(this.webpackJsonpxo=this.webpackJsonpxo||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(5),s=n.n(r),i=(n(13),n(14),n(2)),l=n(0),o=document.querySelector("#modal-root");function u(e){var t=e.children;return Object(r.createPortal)(Object(l.jsx)("div",{className:"Modal__backdrop",children:Object(l.jsx)("div",{className:"Modal__content",children:t})}),o)}var j=n(3),b=n.n(j);function O(e){var t=e.onHandleForm,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),j=u[0],O=u[1],m=Object(a.useState)(!1),f=Object(i.a)(m,2),h=f[0];f[1];Object(a.useEffect)((function(){console.log(h&&"\u0425\u043e\u0432\u0435\u0440 \u043d\u0430\u0447\u0430\u043b\u0441\u044f"),console.log(!h&&"\u0425\u043e\u0432\u0435\u0440 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f")}),[h]);var d={namePlayerX:s,namePlayerO:O},x=function(e){var t=e.target,n=t.name,a=t.value;d[n](a)};r.trim()&&j.trim();return Object(l.jsxs)("form",{className:b.a.form,autoComplete:"off",onSubmit:function(e){e.preventDefault(),t({X:r,O:j})},children:[Object(l.jsxs)("label",{className:b.a.label,children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{className:b.a.input,type:"text",name:"namePlayerX",onChange:x,value:r,laceholder:"Type the name of player 1",required:!0})]}),Object(l.jsxs)("label",{className:b.a.label,children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{className:b.a.input,type:"text",name:"namePlayerO",onChange:x,value:j,required:!0})]}),Object(l.jsx)("button",{onMouseEnter:function(){console.log("\u0445\u043e\u0432\u0435\u0440 \u043d\u0430\u0447\u0430\u043b\u0441\u044f")},onMouseLeave:function(){console.log("\u0425\u043e\u0432\u0435\u0440 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f")},type:"submit",className:b.a.submit,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})]})}var m=n(8);function f(e){var t=e.getMark,n=e.mark,a=n?" ".concat(n):"";return Object(l.jsx)("div",{className:"game__play-box",onClick:t,children:Object(l.jsx)("div",{className:"game__play-mark".concat(a)})})}var h=["012","345","678","036","147","258","048","246"],d={left:[].concat(h),X:[],O:[],isGameDraw:function(){var e=this.X,t=this.O,n=this.left,a=!(e.length+t.length+n.length);return a&&this.reset(),a},update:function(e,t){var n=this,a=this.getOponent,c=this.left,r=a(e);if(c.length>0){var s=[];c.forEach((function(a){(a.includes(t)?n[e]:s).push(a)})),this.left=[].concat(s)}this[r].length>0&&(this[r]=this[r].filter((function(e){return!e.includes(t)})))},getOponent:function(e){return"X"===e?"O":"X"},reset:function(){this.left=[].concat(h),this.X=[],this.O=[]}},x={X:"",O:"",update:function(e,t){this[e]+=t},reset:function(){this.X="",this.O=""}};function p(e){var t=e.handlePlayerWin,n=e.playerMark,c=e.changePlayer,r=e.winnerCombination,s=e.freezeArena,o=Object(a.useRef)(!0),u=Object(a.useState)(Array(9).fill(null)),j=Object(i.a)(u,2),b=j[0],O=j[1],h=Object(a.useState)((function(){return v()})),p=Object(i.a)(h,2),g=p[0],y=p[1];Object(a.useEffect)((function(){o.current?o.current=!o.current:(g>=5&&function(){var e=function(){var e=x[n],t=Object(m.a)(d[n]),a=e.split("").sort().join("");return t.find((function(e){var t=new RegExp("[^".concat(e,"]"),"g");if(e===a.replace(t,""))return e}))}();if(e)return void t(n,e);d.isGameDraw()&&(alert("\u041d\u0435\u0442 \u0432\u044b\u0438\u0433\u0440\u0430\u0448\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432 :(? - \u041d\u0438\u0447\u044c\u044f!"),_())}(),c())}),[g]),Object(a.useEffect)((function(){!s&&v()&&_()}),[s]);function v(){return b.join("").length}function _(){O(Array(9).fill(null)),x.reset(),d.reset()}return Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsxs)("div",{className:"game__play-stage",children:[b.map((function(e,t){return Object(l.jsx)(f,{getMark:function(){return function(e){s||(b[e]?alert("\u042f\u0447\u0435\u0439\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u0430!"):(b[e]=n,y(v()),x.update(n,e),d.update(n,e)))}(t)},mark:e},t)})),r&&Object(l.jsx)("div",{className:"game__win-line game__win-line--".concat(r)})]})]})}function g(e){var t=e.playerTurn,n=e.namePlayerX,a=e.scorePlayerX,c=e.namePlayerO,r=e.scorePlayerO,s=e.freezeArena,i=e.nextGame,o={X:{name:n,score:a},O:{name:c,score:r}};return Object(l.jsxs)("div",{className:"game__score",children:[s&&Object(l.jsx)("button",{className:"button score__next-game-btn",type:"button",onClick:i,children:"Play next"})||Object(l.jsxs)("p",{children:["The player ",Object(l.jsx)("br",{}),Object(l.jsx)("b",{children:t}),Object(l.jsx)("br",{})," is turn now."]}),Object(l.jsx)("p",{className:"score__heading",children:"Score"}),Object.keys(o).map((function(e){var t=o[e],n=t.name,a=t.score;return Object(l.jsxs)("p",{className:"score__player-info",children:[Object(l.jsx)("i",{children:e})," ",Object(l.jsxs)("span",{children:[n,": "]})," ",Object(l.jsx)("b",{children:a})]},e)}))]})}function y(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("X"),s=Object(i.a)(r,2),o=s[0],j=s[1],b=Object(a.useState)(null),m=Object(i.a)(b,2),f=m[0],h=m[1],d=Object(a.useState)(0),x=Object(i.a)(d,2),y=x[0],v=x[1],_=Object(a.useState)(null),X=Object(i.a)(_,2),P=X[0],N=X[1],S=Object(a.useState)(0),k=Object(i.a)(S,2),w=k[0],E=k[1],F=Object(a.useState)(null),M=Object(i.a)(F,2),G=M[0],C=M[1],A=Object(a.useState)(!1),T=Object(i.a)(A,2),z=T[0],D=T[1],q={X:{name:f,score:y},O:{name:P,score:w}};var H=q[o].name;return Object(l.jsx)("div",{className:"game",children:n?Object(l.jsx)(u,{children:Object(l.jsx)(O,{onHandleForm:function(e){c((function(e){return!e}));var t={X:h,O:N};Object.keys(e).forEach((function(n){t[n](e[n])}))}})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p,{handlePlayerWin:function(e,t){D(!0),C(t),{X:v,O:E}[e]((function(e){return e+1})),alert("\u041f\u043e\u0431\u0435\u0434\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 ".concat(q[e].name))},playerMark:o,changePlayer:function(){j((function(e){return"X"===e?"O":"X"}))},winnerCombination:G,freezeArena:z}),Object(l.jsx)(g,{playerTurn:H,namePlayerX:f,scorePlayerX:y,namePlayerO:P,scorePlayerO:w,freezeArena:z,nextGame:function(){C(null),D(!1)}})]})})}var v=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(y,{})})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))},3:function(e,t,n){e.exports={form:"GreetingForm_form__EPbmT",label:"GreetingForm_label__3nD5k",input:"GreetingForm_input__2Zog2",submit:"GreetingForm_submit__3glL9"}}},[[16,1,2]]]);
//# sourceMappingURL=main.146c1788.chunk.js.map