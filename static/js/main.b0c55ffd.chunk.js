(this.webpackJsonpxo=this.webpackJsonpxo||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(4),s=n.n(a),i=(n(12),n(13),n(2)),l=n(0),o=document.querySelector("#modal-root");function u(e){var t=e.children;return Object(a.createPortal)(Object(l.jsx)("div",{className:"Modal__backdrop",children:Object(l.jsx)("div",{className:"Modal__content",children:t})}),o)}function j(e){var t=e.onHandleForm,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],s=r[1],o=Object(c.useState)(""),u=Object(i.a)(o,2),j=u[0],O={namePlayerX:s,namePlayerO:u[1]},b=function(e){var t=e.target,n=t.name,c=t.value;O[n](c)};var f=!(a.trim()&&j.trim());return Object(l.jsxs)("form",{className:"greeting-form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),t({X:a,O:j})},children:[Object(l.jsxs)("label",{className:"greeting-form__label",children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{type:"text",name:"namePlayerX",onChange:b,value:a,required:!0})]}),Object(l.jsxs)("label",{className:"greeting-form__label",children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{type:"text",name:"namePlayerO",onChange:b,value:j,required:!0})]}),Object(l.jsx)("button",{type:"submit",className:"greeting-form__submit-btn",disabled:f,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})]})}var O=n(7);function b(e){var t=e.getMark,n=e.mark,c=n?" ".concat(n):"";return Object(l.jsx)("div",{className:"game__play-box",onClick:t,children:Object(l.jsx)("div",{className:"game__play-mark".concat(c)})})}var f=["012","345","678","036","147","258","048","246"],m={left:[].concat(f),X:[],O:[],isGameDraw:function(){var e=this.X,t=this.O,n=this.left,c=!(e.length+t.length+n.length);return c&&this.reset(),c},update:function(e,t){var n=this,c=this.getOponent,r=this.left,a=c(e);if(r.length>0){var s=[];r.forEach((function(c){(c.includes(t)?n[e]:s).push(c)})),this.left=[].concat(s)}this[a].length>0&&(this[a]=this[a].filter((function(e){return!e.includes(t)})))},getOponent:function(e){return"X"===e?"O":"X"},reset:function(){this.left=[].concat(f),this.X=[],this.O=[]}},h={X:"",O:"",update:function(e,t){this[e]+=t},reset:function(){this.X="",this.O=""}};function d(e){var t=e.handlePlayerWin,n=e.playerMark,r=e.changePlayer,a=e.winnerCombination,s=e.freezeArena,o=Object(c.useRef)(!0),u=Object(c.useState)(Array(9).fill(null)),j=Object(i.a)(u,2),f=j[0],d=j[1],x=Object(c.useState)((function(){return y()})),g=Object(i.a)(x,2),p=g[0],v=g[1];Object(c.useEffect)((function(){o.current?o.current=!o.current:(p>=5&&function(){var e=function(){var e=h[n],t=Object(O.a)(m[n]),c=e.split("").sort().join("");return t.find((function(e){var t=new RegExp("[^".concat(e,"]"),"g");if(e===c.replace(t,""))return e}))}();if(e)return void t(n,e);m.isGameDraw()&&(alert("\u041d\u0435\u0442 \u0432\u044b\u0438\u0433\u0440\u0430\u0448\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432 :(? - \u041d\u0438\u0447\u044c\u044f!"),X())}(),r())}),[p]),Object(c.useEffect)((function(){!s&&y()&&X()}),[s]);function y(){return f.join("").length}function X(){console.log("End of the round"),d(Array(9).fill(null)),h.reset(),console.log(h),m.reset(),console.log(m)}return Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsx)("div",{className:"game__play-stage",children:f.map((function(e,t){return Object(l.jsx)(b,{getMark:function(){return function(e){s||(f[e]?alert("\u042f\u0447\u0435\u0439\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u0430!"):(f[e]=n,v(y()),h.update(n,e),m.update(n,e)))}(t)},mark:e},t)}))}),Object(l.jsx)("hr",{}),a&&Object(l.jsx)("h1",{children:a})]})}function x(e){var t=e.namePlayerX,n=e.scorePlayerX,c=e.namePlayerO,r=e.scorePlayerO,a=e.freezeArena,s=e.nextGame,i={X:{name:t,score:n},O:{name:c,score:r}};return Object(l.jsxs)("div",{className:"game__score",children:[a&&Object(l.jsx)("button",{type:"button",onClick:s,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0438\u0433\u0440\u0443"}),Object(l.jsx)("p",{children:"Score"}),Object.keys(i).map((function(e){var t=i[e],n=t.name,c=t.score;return Object(l.jsxs)("p",{children:[Object(l.jsx)("i",{children:e})," ",Object(l.jsxs)("b",{children:[n,": "]})," ",Object(l.jsx)("span",{children:c})]},e)}))]})}function g(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)("X"),s=Object(i.a)(a,2),o=s[0],O=s[1],b=Object(c.useState)(null),f=Object(i.a)(b,2),m=f[0],h=f[1],g=Object(c.useState)(0),p=Object(i.a)(g,2),v=p[0],y=p[1],X=Object(c.useState)(null),_=Object(i.a)(X,2),P=_[0],S=_[1],k=Object(c.useState)(0),N=Object(i.a)(k,2),w=N[0],C=N[1],E=Object(c.useState)(null),M=Object(i.a)(E,2),A=M[0],F=M[1],z=Object(c.useState)(!1),G=Object(i.a)(z,2),q=G[0],D=G[1],H={X:{name:m,score:v},O:{name:P,score:w}};return Object(l.jsx)("div",{className:"game",children:n?Object(l.jsx)(u,{children:Object(l.jsx)(j,{onHandleForm:function(e){r((function(e){return!e}));var t={X:h,O:S};Object.keys(e).forEach((function(n){t[n](e[n])}))}})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{handlePlayerWin:function(e,t){D(!0),F(t),{X:y,O:C}[e]((function(e){return e+1})),alert("\u041f\u043e\u0431\u0435\u0434\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 ".concat(H[e].name))},playerMark:o,changePlayer:function(){O((function(e){return"X"===e?"O":"X"}))},winnerCombination:A,freezeArena:q}),Object(l.jsx)(x,{namePlayerX:m,scorePlayerX:v,namePlayerO:P,scorePlayerO:w,freezeArena:q,nextGame:function(){F(null),D(!1)}})]})})}var p=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(g,{})})})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b0c55ffd.chunk.js.map