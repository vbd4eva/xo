(this.webpackJsonpxo=this.webpackJsonpxo||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(4),s=n.n(r),i=(n(12),n(13),n(2)),l=n(0),o=document.querySelector("#modal-root");function u(e){var t=e.children;return Object(r.createPortal)(Object(l.jsx)("div",{className:"Modal__backdrop",children:Object(l.jsx)("div",{className:"Modal__content",children:t})}),o)}function j(e){var t=e.onHandleForm,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),j=u[0],b={namePlayerX:s,namePlayerO:u[1]},O=function(e){var t=e.target,n=t.name,a=t.value;b[n](a)};var m=!(r.trim()&&j.trim());return Object(l.jsxs)("form",{className:"greeting-form",autoComplete:"off",onSubmit:function(e){e.preventDefault(),t({X:r,O:j})},children:[Object(l.jsxs)("label",{className:"greeting-form__label",children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{className:"greeting-form__input",type:"text",name:"namePlayerX",onChange:O,value:r,required:!0})]}),Object(l.jsxs)("label",{className:"greeting-form__label",children:[Object(l.jsx)("span",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u0432\u0442\u043e\u0440\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"}),Object(l.jsx)("input",{className:"greeting-form__input",type:"text",name:"namePlayerO",onChange:O,value:j,required:!0})]}),Object(l.jsx)("button",{type:"submit",className:"button greeting-form__submit-btn",disabled:m,children:"\u041d\u0430\u0447\u0430\u0442\u044c \u0438\u0433\u0440\u0443"})]})}var b=n(7);function O(e){var t=e.getMark,n=e.mark,a=n?" ".concat(n):"";return Object(l.jsx)("div",{className:"game__play-box",onClick:t,children:Object(l.jsx)("div",{className:"game__play-mark".concat(a)})})}var m=["012","345","678","036","147","258","048","246"],f={left:[].concat(m),X:[],O:[],isGameDraw:function(){var e=this.X,t=this.O,n=this.left,a=!(e.length+t.length+n.length);return a&&this.reset(),a},update:function(e,t){var n=this,a=this.getOponent,c=this.left,r=a(e);if(c.length>0){var s=[];c.forEach((function(a){(a.includes(t)?n[e]:s).push(a)})),this.left=[].concat(s)}this[r].length>0&&(this[r]=this[r].filter((function(e){return!e.includes(t)})))},getOponent:function(e){return"X"===e?"O":"X"},reset:function(){this.left=[].concat(m),this.X=[],this.O=[]}},h={X:"",O:"",update:function(e,t){this[e]+=t},reset:function(){this.X="",this.O=""}};function d(e){var t=e.handlePlayerWin,n=e.playerMark,c=e.changePlayer,r=e.winnerCombination,s=e.freezeArena,o=Object(a.useRef)(!0),u=Object(a.useState)(Array(9).fill(null)),j=Object(i.a)(u,2),m=j[0],d=j[1],x=Object(a.useState)((function(){return y()})),g=Object(i.a)(x,2),p=g[0],v=g[1];Object(a.useEffect)((function(){o.current?o.current=!o.current:(p>=5&&function(){var e=function(){var e=h[n],t=Object(b.a)(f[n]),a=e.split("").sort().join("");return t.find((function(e){var t=new RegExp("[^".concat(e,"]"),"g");if(e===a.replace(t,""))return e}))}();if(e)return void t(n,e);f.isGameDraw()&&(alert("\u041d\u0435\u0442 \u0432\u044b\u0438\u0433\u0440\u0430\u0448\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432 :(? - \u041d\u0438\u0447\u044c\u044f!"),_())}(),c())}),[p]),Object(a.useEffect)((function(){!s&&y()&&_()}),[s]);function y(){return m.join("").length}function _(){d(Array(9).fill(null)),h.reset(),f.reset()}return Object(l.jsxs)(l.Fragment,{children:[" ",Object(l.jsxs)("div",{className:"game__play-stage",children:[m.map((function(e,t){return Object(l.jsx)(O,{getMark:function(){return function(e){s||(m[e]?alert("\u042f\u0447\u0435\u0439\u043a\u0430 \u0437\u0430\u043d\u044f\u0442\u0430!"):(m[e]=n,v(y()),h.update(n,e),f.update(n,e)))}(t)},mark:e},t)})),r&&Object(l.jsx)("div",{className:"game__win-line game__win-line--".concat(r)})]})]})}function x(e){var t=e.namePlayerX,n=e.scorePlayerX,a=e.namePlayerO,c=e.scorePlayerO,r=e.freezeArena,s=e.nextGame,i={X:{name:t,score:n},O:{name:a,score:c}};return Object(l.jsxs)("div",{className:"game__score",children:[Object(l.jsx)("p",{className:"score__heading",children:"Score"}),Object.keys(i).map((function(e){var t=i[e],n=t.name,a=t.score;return Object(l.jsxs)("p",{className:"score__player-info",children:[Object(l.jsx)("i",{children:e})," ",Object(l.jsxs)("span",{children:[n,": "]})," ",Object(l.jsx)("b",{children:a})]},e)})),r&&Object(l.jsx)("button",{className:"button score__next-game-btn",type:"button",onClick:s,children:"Play next"})]})}function g(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)("X"),s=Object(i.a)(r,2),o=s[0],b=s[1],O=Object(a.useState)(null),m=Object(i.a)(O,2),f=m[0],h=m[1],g=Object(a.useState)(0),p=Object(i.a)(g,2),v=p[0],y=p[1],_=Object(a.useState)(null),X=Object(i.a)(_,2),N=X[0],P=X[1],S=Object(a.useState)(0),k=Object(i.a)(S,2),w=k[0],C=k[1],M=Object(a.useState)(null),A=Object(i.a)(M,2),E=A[0],F=A[1],z=Object(a.useState)(!1),G=Object(i.a)(z,2),q=G[0],D=G[1],H={X:{name:f,score:v},O:{name:N,score:w}};return Object(l.jsx)("div",{className:"game",children:n?Object(l.jsx)(u,{children:Object(l.jsx)(j,{onHandleForm:function(e){c((function(e){return!e}));var t={X:h,O:P};Object.keys(e).forEach((function(n){t[n](e[n])}))}})}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{handlePlayerWin:function(e,t){D(!0),F(t),{X:y,O:C}[e]((function(e){return e+1})),alert("\u041f\u043e\u0431\u0435\u0434\u0430 \u0438\u0433\u0440\u043e\u043a\u0430 ".concat(H[e].name))},playerMark:o,changePlayer:function(){b((function(e){return"X"===e?"O":"X"}))},winnerCombination:E,freezeArena:q}),Object(l.jsx)(x,{namePlayerX:f,scorePlayerX:v,namePlayerO:N,scorePlayerO:w,freezeArena:q,nextGame:function(){F(null),D(!1)}})]})})}var p=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(g,{})})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(p,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.567ad692.chunk.js.map